<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0066cc">
    <title>æ²–ç¸„æ—…è¡Œã‚¬ã‚¤ãƒ‰</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIumjjuW7muWtpumZoiIsCiAgInNob3J0X25hbWUiOiAi6aOO5buaIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJ0aGVtZV9jb2xvciI6ICIjMDA2NmNjIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZjhmOWZhIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXpNREFnTURBd0lqNDhjM1I1YkdVK0lEeGpiMjVtYVdkemRHOXlJSE4wZVd4bFBTSnViMjVsSWlCbWFXeHNQU0oxY213b0kyeHBibVZoY2k1cGJtUmxlQzFqYjI1bWFXZHpkRzl5TFdKMWJHd2dKM04wWVhKMGFXNW5JajQ4YzNSNWJHVStJRHhqYjI1bWFXZHpkRzl5SUhOMGVXeGxQU0p1YjI1bElpQm1hV3hzUFNKMWNtd29JMnhwYm1WaGNpNXBibVJsZUMxamIyNW1hV2R6ZEc5eUxXSjFiR3dnSjNOMFlYSjBhVzVuSWo0OGMzUjViR1UrSUR4amIyNW1hV2R6ZEc5eUlITjBlV3hsUFNKdWIyNWxJaUJtYVd4c1BTSjFjbXdvSTJ4cGJtVmhjaTVwYm1SbGVDMWpiMjVtYVdkemRHOXlMV0oxYkd3Z0ozTjBZWEowYVc1bklqNDhMM04yWno0PSIsCiAgICAgICJ0eXBlIjogImltYWdlL3BuZyIsCiAgICAgICJzaXplcyI6ICIxOTJ4MTkyIgogICAgfQogIF0KfQ==">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%2300a0e9'/><text x='50' y='70' font-size='60' text-anchor='middle' fill='white'>ğŸŒ´</text></svg>">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --primary-color: #0066cc;
            --secondary-color: #e6f2ff;
            --card-bg: #f8f9fa;
            --border-color: #dee2e6;
            --area-1: #ff6b6b;
            --area-2: #4ecdc4;
            --area-3: #45b7d1;
            --area-4: #ffbe0b;
            --area-5: #ff9f1c;
            --area-6: #ee4266;
            --font-size-normal: 1rem;
            --font-size-large: 1.2rem;
            --font-size-xlarge: 1.4rem;
        }

        .dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #f8f9fa;
            --primary-color: #4da6ff;
            --secondary-color: #003366;
            --card-bg: #2d2d2d;
            --border-color: #495057;
            --area-1: #FF5733;
            --area-2: #33FF57;
            --area-3: #3357FF;
            --area-4: #F3FF33;
            --area-5: #FF33F3;
            --area-6: #33FFF3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
            min-height: 100vh;
            padding: 20px;
            font-size: var(--font-size-large);
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            flex: 1;
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 5px;
            font-size: 2.2rem;
        }
        
        .subtitle {
            text-align: center;
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 20px;
            font-size: var(--font-size-large);
        }
        
        .okinawa-map {
            width: 100%;
            height: 500px;
            background-color: var(--secondary-color);
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        
        .area {
            position: absolute;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            padding: 10px;
            box-sizing: border-box;
            border: 2px solid rgba(255,255,255,0.3);
            font-size: var(--font-size-large);
        }
        
        .area:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10;
            border-color: rgba(255,255,255,0.7);
        }
        
        .area-1 { background-color: var(--area-1); left: 50%; top: 5%; width: 30%; height: 30%; }
        .area-2 { background-color: var(--area-2); left: 15%; top: 20%; width: 35%; height: 15%; }
        .area-3 { background-color: var(--area-3); left: 40%; top: 35%; width: 25%; height: 18%; }
        .area-4 { background-color: var(--area-4); left: 30%; top: 50%; width: 60%; height: 15%; }
        .area-5 { background-color: var(--area-5); left: 25%; top: 65%; width: 30%; height: 15%; }
        .area-6 { background-color: var(--area-6); left: 20%; top: 80%; width: 50%; height: 15%; }
        
        #info-box {
            padding: 20px;
            background: var(--secondary-color);
            border-radius: 10px;
            margin-top: 25px;
            min-height: 120px;
            transition: all 0.3s ease;
            font-size: var(--font-size-large);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
        }
        
        .mode-toggle, .lang-toggle {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: var(--font-size-normal);
        }
        
        .mode-toggle:hover, .lang-toggle:hover {
            background-color: #0052a3;
            transform: translateY(-2px);
        }
        
        .language-content {
            display: none;
            width: 100%;
        }
        
        .language-content.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .spot-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            margin-top: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: var(--font-size-large);
        }
        
        .spot-button:hover {
            background-color: #0052a3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .spot-button i {
            font-size: 1.1em;
        }
        
        .spot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .spot-item {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            font-size: var(--font-size-large);
        }
        
        .spot-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            background-color: var(--secondary-color);
        }
        
        .spot-item h4 {
            margin: 0 0 5px 0;
            color: var(--primary-color);
            font-size: var(--font-size-xlarge);
        }
        
        .spot-item p {
            margin: 0;
            opacity: 0.8;
            font-size: var(--font-size-normal);
        }
        
        .spot-detail {
            margin-top: 20px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            font-size: var(--font-size-large);
        }
        
        .spot-detail h3 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            font-size: 1.8rem;
        }
        
        .spot-detail .type {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            margin-bottom: 15px;
            font-size: var(--font-size-normal);
        }
        
        .back-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: var(--font-size-large);
        }
        
        .back-button:hover {
            background-color: #0052a3;
            transform: translateY(-2px);
        }
        
        .spot-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 6px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .spot-tips {
            background-color: var(--secondary-color);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 3px solid var(--primary-color);
            font-size: var(--font-size-large);
        }
        
        .spot-tips strong {
            display: block;
            margin-bottom: 8px;
            font-size: var(--font-size-xlarge);
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: var(--text-color);
            opacity: 0.8;
            font-size: var(--font-size-normal);
        }
        
        footer a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        .install-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .install-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.25);
        }
        
        .install-btn i {
            font-size: 1.2em;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .okinawa-map {
                height: 400px;
            }
            
            .spot-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                width: 100%;
                justify-content: space-between;
                margin-top: 10px;
            }
            
            .mode-toggle, .lang-toggle {
                flex-grow: 1;
                text-align: center;
                justify-content: center;
            }
            
            :root {
                --font-size-normal: 0.9rem;
                --font-size-large: 1rem;
                --font-size-xlarge: 1.2rem;
            }
        }
        
        /* æ—¥æœ¬èªã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã®ä¸­å¤®æƒãˆã‚’å¼·åŒ– */
        .language-content.japanese h1 {
            letter-spacing: 0.1em;
        }
        
        .language-content.japanese .subtitle {
            letter-spacing: 0.05em;
        }
        
        /* PWAã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
        @media (display-mode: standalone) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px 15px;
                border-radius: 0;
                box-shadow: none;
            }
            
            .install-btn {
                display: none;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <button class="install-btn" id="installButton">
        <i class="fas fa-download"></i>
        <span class="english">Install App</span>
        <span class="japanese">ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
    </button>

    <div class="container">
        <div class="controls">
            <div class="language-content english active">
                <h1>Okinawa Travel Guide</h1>
                <p class="subtitle">Discover the best of Okinawa's attractions</p>
            </div>
            <div class="language-content japanese">
                <h1>æ²–ç¸„è¦³å…‰ã‚¬ã‚¤ãƒ‰</h1>
                <p class="subtitle">æ²–ç¸„ã®é­…åŠ›ã‚’ç™ºè¦‹ã—ã¾ã—ã‚‡ã†</p>
            </div>
            
            <div class="button-group">
                <button class="mode-toggle" onclick="toggleDarkMode()">
                    <i class="fas fa-moon"></i>
                    <span class="language-content english active">Dark Mode</span>
                    <span class="language-content japanese">ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</span>
                </button>
                <button class="lang-toggle" onclick="toggleLanguage()">
                    <i class="fas fa-language"></i>
                    <span class="language-content english active">æ—¥æœ¬èª</span>
                    <span class="language-content japanese">English</span>
                </button>
            </div>
        </div>
        
        <div class="okinawa-map">
            <!-- English Map Areas -->
            <div class="language-content english active">
                <div class="area area-1" onclick="showAreaInfo('yanbaru')">Yanbaru</div>
                <div class="area area-2" onclick="showAreaInfo('motobu')">Motobu</div>
                <div class="area area-3" onclick="showAreaInfo('north-resorts')">North Resorts</div>
                <div class="area area-4" onclick="showAreaInfo('central')">Central</div>
                <div class="area area-5" onclick="showAreaInfo('naha')">Naha Area</div>
                <div class="area area-6" onclick="showAreaInfo('southern')">South</div>
            </div>
            
            <!-- Japanese Map Areas -->
            <div class="language-content japanese">
                <div class="area area-1" onclick="showAreaInfo('yanbaru')">ãƒ¤ãƒ³ãƒãƒ«</div>
                <div class="area area-2" onclick="showAreaInfo('motobu')">æœ¬éƒ¨åŠå³¶</div>
                <div class="area area-3" onclick="showAreaInfo('north-resorts')">åŒ—éƒ¨ãƒªã‚¾ãƒ¼ãƒˆ</div>
                <div class="area area-4" onclick="showAreaInfo('central')">ä¸­éƒ¨</div>
                <div class="area area-5" onclick="showAreaInfo('naha')">é‚£è¦‡å‘¨è¾º</div>
                <div class="area area-6" onclick="showAreaInfo('southern')">å—éƒ¨</div>
            </div>
        </div>
        
        <div id="info-box">
            <div class="language-content english active">
                Click on an area to show information
            </div>
            <div class="language-content japanese">
                ã‚¨ãƒªã‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
            </div>
        </div>
    </div>

    <footer>
        <div class="language-content english active">Contact me<br><a href="mailto:mementomorikatsu@gmail.com">mementomorikatsu@gmail.com</a></div>
        <div class="language-content japanese">é€£çµ¡å…ˆ<br><a href="mailto:mementomorikatsu@gmail.com">mementomorikatsu@gmail.com</a></div>
    </footer>

    <script>
        // Area information in both languages
        const areaInfo = {
            'yanbaru': {
                en: {
                    title: "Yanbaru Region",
                    description: "The northern jungle area of Okinawa, known for its rich biodiversity and beautiful nature spots. Explore untouched forests, waterfalls, and scenic capes."
                },
                ja: {
                    title: "ãƒ¤ãƒ³ãƒãƒ«åœ°åŸŸï¼ˆå›½é ­æ‘ãƒ»æ±æ‘ï¼‰",
                    description: "æ²–ç¸„åŒ—éƒ¨ã®ã‚¸ãƒ£ãƒ³ã‚°ãƒ«åœ°å¸¯ã§ã€è±Šã‹ãªç”Ÿç‰©å¤šæ§˜æ€§ã¨ç¾ã—ã„è‡ªç„¶ã‚¹ãƒãƒƒãƒˆã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚æ‰‹ã¤ã‹ãšã®æ£®ã€æ»ã€é¢¨å…‰æ˜åªšãªå²¬ã‚’æ¢ç´¢ã—ã¾ã—ã‚‡ã†ã€‚"
                },
                spots: ['cape-hedo', 'daisekirinzan', 'taa-falls', 'yambaru-wildlife'],
                image: "https://images.unsplash.com/photo-1593696140826-c58b021acf8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'motobu': {
                en: {
                    title: "Motobu Peninsula",
                    description: "Famous for the Okinawa Churaumi Aquarium and historical sites. A must-visit for marine life enthusiasts and history lovers."
                },
                ja: {
                    title: "æœ¬éƒ¨åŠå³¶ï¼ˆåè­·å¸‚ãƒ»æœ¬éƒ¨ç”ºãƒ»ä»Šå¸°ä»æ‘ï¼‰",
                    description: "æ²–ç¸„ç¾ã‚‰æµ·æ°´æ—é¤¨ã‚„æ­´å²éºè·¡ã§æœ‰åã§ã™ã€‚æµ·æ´‹ç”Ÿç‰©å¥½ãã‚„æ­´å²æ„›å¥½å®¶ã«ã¯å¿…è¦‹ã®ã‚¨ãƒªã‚¢ã§ã™ã€‚"
                },
                spots: ['churaumi-aquarium', 'bise-fukugi', 'kouri-island', 'nakijin-castle'],
                image: "https://images.unsplash.com/photo-1588591795085-49d8a9036d01?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'north-resorts': {
                en: {
                    title: "North Resorts",
                    description: "Luxury resorts, beautiful coral reefs, and excellent snorkeling spots. The perfect area for a relaxing beach vacation with high-end amenities."
                },
                ja: {
                    title: "åŒ—éƒ¨ãƒªã‚¾ãƒ¼ãƒˆï¼ˆèª­è°·æ‘ãƒ»æ©ç´æ‘ï¼‰",
                    description: "é«˜ç´šãƒªã‚¾ãƒ¼ãƒˆã€ç¾ã—ã„ã‚µãƒ³ã‚´ç¤ã€ç´ æ™´ã‚‰ã—ã„ã‚·ãƒ¥ãƒãƒ¼ã‚±ãƒªãƒ³ã‚°ã‚¹ãƒãƒƒãƒˆãŒç‰¹å¾´ã§ã™ã€‚é«˜ç´šæ–½è¨­ã‚’å‚™ãˆãŸãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹ãƒ“ãƒ¼ãƒãƒã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«æœ€é©ã§ã™ã€‚"
                },
                spots: ['manza-beach', 'busena-marine-park', 'zampa-misaki', 'oist-campus'],
                image: "https://images.unsplash.com/photo-1596422846543-75c6fc197f07?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1464&q=80"
            },
            'central': {
                en: {
                    title: "Central Region",
                    description: "Cultural heart of Okinawa with historical sites, traditional villages, and vibrant city life. Experience the unique Ryukyu culture."
                },
                ja: {
                    title: "ä¸­éƒ¨ï¼ˆæ²–ç¸„å¸‚ãƒ»ã†ã‚‹ã¾å¸‚ãƒ»ä¸­åŸæ‘ï¼‰",
                    description: "æ­´å²çš„ãªéºè·¡ã‚„ä¼çµ±çš„ãªæ‘ã€æ´»æ°—ã‚ã‚‹éƒ½å¸‚ç”Ÿæ´»ãŒã‚ã‚‹æ²–ç¸„ã®æ–‡åŒ–çš„ä¸­å¿ƒåœ°ã§ã™ã€‚ç‹¬ç‰¹ã®ç‰çƒæ–‡åŒ–ã‚’ä½“é¨“ã§ãã¾ã™ã€‚"
                },
                spots: ['kaichu-road', 'koza', 'american-village', 'ara-beach'],
                image: "https://images.unsplash.com/photo-1596422846543-75c6fc197f07?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1464&q=80"
            },
            'naha': {
                en: {
                    title: "Naha Area & Kerama Islands",
                    description: "The capital city with shopping, dining, and historical sites like Shuri Castle. Plus, the stunning Kerama Islands with their turquoise waters."
                },
                ja: {
                    title: "é‚£è¦‡å‘¨è¾ºãƒ»æ…¶è‰¯é–“è«¸å³¶",
                    description: "é¦–é‡ŒåŸãªã©ã®æ­´å²çš„å»ºé€ ç‰©ã€ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã€é£²é£Ÿåº—ãŒã‚ã‚‹çœŒéƒ½ã§ã™ã€‚ã•ã‚‰ã«ã€ã‚¿ãƒ¼ã‚³ã‚¤ã‚ºãƒ–ãƒ«ãƒ¼ã®æµ·ãŒç¾ã—ã„æ…¶è‰¯é–“è«¸å³¶ã‚‚ã‚ã‚Šã¾ã™ã€‚"
                },
                spots: ['kokusai-street', 'shuri-castle', 'kerama-islands', 'tomari-ichiba'],
                image: "https://images.unsplash.com/photo-1586016413664-864c0dd76f53?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'southern': {
                en: {
                    title: "Southern Region",
                    description: "Peace memorial parks, stunning coastal views, and unique beaches characterize this area. Important historical sites combined with natural beauty."
                },
                ja: {
                    title: "å—éƒ¨ï¼ˆç³¸æº€å¸‚ãƒ»å—åŸå¸‚ï¼‰",
                    description: "å¹³å’Œè¨˜å¿µå…¬åœ’ã€æ¯ã‚’ã®ã‚€ã‚ˆã†ãªæµ·å²¸ç·šã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªãƒ“ãƒ¼ãƒãŒç‰¹å¾´ã®åœ°åŸŸã§ã™ã€‚é‡è¦ãªå²è·¡ã¨è‡ªç„¶ç¾ãŒçµ„ã¿åˆã‚ã•ã£ã¦ã„ã¾ã™ã€‚"
                },
                spots: ['peace-memorial-park', 'chinen-misaki', 'okinawa-world', 'mibaru-beach'],
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            }
        };

        // Spot information for each area
        const spotInfo = {
            // Yanbaru spots
            'cape-hedo': {
                en: {
                    name: "Cape Hedo",
                    type: "Scenic Cape",
                    description: "The northernmost point of Okinawa Island with spectacular cliff views of the East China Sea. A perfect spot for dramatic ocean views and photography.",
                    tips: "Visit early morning for fewer crowds and beautiful sunrise views."
                },
                ja: {
                    name: "è¾ºæˆ¸å²¬",
                    type: "é¢¨å…‰æ˜åªšãªå²¬",
                    description: "æ²–ç¸„æœ¬å³¶æœ€åŒ—ç«¯ã®å²¬ã§ã€æ±ã‚·ãƒŠæµ·ã®å£®å¤§ãªæ–­å´–ã®æ™¯è‰²ãŒåºƒãŒã‚Šã¾ã™ã€‚ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯ãªæµ·ã®æ™¯è‰²ã¨å†™çœŸæ’®å½±ã«æœ€é©ãªã‚¹ãƒãƒƒãƒˆã§ã™ã€‚",
                    tips: "æ··é›‘ã‚’é¿ã‘ãŸã„ãªã‚‰æ—©æœã«è¨ªã‚Œã€ç¾ã—ã„æ—¥ã®å‡ºã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593696140826-c58b021acf8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'daisekirinzan': {
                en: {
                    name: "Asmui Spiritual Park(Daisekirinzan)",
                    type: "Nature Park",
                    description: "A stunning geological park featuring unique rock formations and lush subtropical forest. Offers walking trails with breathtaking views of the coastline.",
                    tips: "The walking course takes about 60-90 minutes - wear comfortable shoes."
                },
                ja: {
                    name: "ã‚¢ã‚¹ãƒ ã‚¤ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«ãƒ‘ãƒ¼ã‚¯(å¤§çŸ³æ—å±±)",
                    type: "è‡ªç„¶å…¬åœ’",
                    description: "ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå²©ã®å½¢æˆç‰©ã¨ç·‘è±Šã‹ãªäºœç†±å¸¯ã®æ£®ãŒç‰¹å¾´ã®åœ°è³ªå…¬åœ’ã§ã™ã€‚æµ·å²¸ç·šã®æ¯ã‚’ã®ã‚€ã‚ˆã†ãªæ™¯è‰²ãŒæ¥½ã—ã‚ã‚‹éŠæ­©é“ãŒã‚ã‚Šã¾ã™ã€‚",
                    tips: "éŠæ­©é“ã¯ç´„60-90åˆ†ã‹ã‹ã‚Šã¾ã™ - å¿«é©ãªé´ã‚’å±¥ãã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1586016413664-864c0dd76f53?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'taa-falls': {
                en: {
                    name: "Taa Falls",
                    type: "Waterfall",
                    description: "A beautiful waterfall in the Yanbaru forest, accessible via a scenic hiking trail. The surrounding lush vegetation creates a serene atmosphere.",
                    tips: "Wear proper hiking shoes as the trail can be slippery after rain."
                },
                ja: {
                    name: "ã‚¿ãƒ¼æ»",
                    type: "æ»",
                    description: "ãƒ¤ãƒ³ãƒãƒ«ã®æ£®ã«ã‚ã‚‹ç¾ã—ã„æ»ã§ã€é¢¨å…‰æ˜åªšãªãƒã‚¤ã‚­ãƒ³ã‚°ã‚³ãƒ¼ã‚¹ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚å‘¨å›²ã®ç·‘è±Šã‹ãªæ¤ç‰©ãŒé™ã‹ãªé›°å›²æ°—ã‚’ä½œã‚Šå‡ºã—ã¦ã„ã¾ã™ã€‚",
                    tips: "é›¨ã®å¾Œã¯é“ãŒæ»‘ã‚Šã‚„ã™ã„ã®ã§ã€é©åˆ‡ãªãƒã‚¤ã‚­ãƒ³ã‚°ã‚·ãƒ¥ãƒ¼ã‚ºã‚’å±¥ãã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1596422846543-75c6fc197f07?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1464&q=80"
            },
            'yambaru-wildlife': {
                en: {
                    name: "Yambaru Wildlife",
                    type: "Nature Reserve",
                    description: "Home to many endemic species including the endangered Okinawa rail. Explore the lush forests and discover unique flora and fauna.",
                    tips: "Join a guided tour to maximize your chances of spotting rare wildlife."
                },
                ja: {
                    name: "ã‚„ã‚“ã°ã‚‹ã®é‡ç”Ÿç”Ÿç‰©",
                    type: "è‡ªç„¶ä¿è­·åŒº",
                    description: "ãƒ¤ãƒ³ãƒãƒ«ã‚¯ã‚¤ãƒŠã‚’å«ã‚€å¤šãã®å›ºæœ‰ç¨®ãŒç”Ÿæ¯ã—ã¦ã„ã¾ã™ã€‚ç·‘è±Šã‹ãªæ£®ã‚’æ¢ç´¢ã—ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªå‹•æ¤ç‰©ã‚’ç™ºè¦‹ã—ã¾ã—ã‚‡ã†ã€‚",
                    tips: "ãƒ¬ã‚¢ãªé‡ç”Ÿç”Ÿç‰©ã‚’è¦‹ã¤ã‘ã‚‹ãƒãƒ£ãƒ³ã‚¹ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã«ã‚¬ã‚¤ãƒ‰ãƒ„ã‚¢ãƒ¼ã«å‚åŠ ã—ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            
            // Motobu spots
            'churaumi-aquarium': {
                en: {
                    name: "Churaumi Aquarium",
                    type: "Aquarium",
                    description: "One of the largest aquariums in the world, famous for its massive Kuroshio Tank housing whale sharks and manta rays. Don't miss the dolphin show!",
                    tips: "Arrive early to avoid crowds and consider purchasing tickets online in advance."
                },
                ja: {
                    name: "ç¾ã‚‰æµ·æ°´æ—é¤¨",
                    type: "æ°´æ—é¤¨",
                    description: "ä¸–ç•Œæœ€å¤§ç´šã®æ°´æ—é¤¨ã§ã€ã‚¸ãƒ³ãƒ™ã‚¨ã‚¶ãƒ¡ã¨ãƒãƒ³ã‚¿ãŒæ³³ãé»’æ½®ã®æµ·å¤§æ°´æ§½ã§æœ‰åã§ã™ã€‚ãƒ‰ãƒ«ãƒ•ã‚£ãƒ³ã‚·ãƒ§ãƒ¼ã‚‚ãŠè¦‹é€ƒã—ãªãï¼",
                    tips: "æ··é›‘ã‚’é¿ã‘ã‚‹ãŸã‚ã«æ—©ã‚ã«åˆ°ç€ã—ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§äº‹å‰ã«ãƒã‚±ãƒƒãƒˆã‚’è³¼å…¥ã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1588591795085-49d8a9036d01?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'bise-fukugi': {
                en: {
                    name: "Bise Fukugi Tree Road",
                    type: "Scenic Walk",
                    description: "A picturesque 1km road lined with ancient Fukugi trees, some over 300 years old. The path leads to beautiful secluded beaches.",
                    tips: "Best visited in early morning or late afternoon for beautiful light and fewer people."
                },
                ja: {
                    name: "å‚™ç€¬ã®ãƒ•ã‚¯ã‚®ä¸¦æœ¨",
                    type: "é¢¨æ™¯æ•£æ­©é“",
                    description: "300å¹´ä»¥ä¸Šã®æ­´å²ã‚’æŒã¤å¤ã„ãƒ•ã‚¯ã‚®ã®æœ¨ãŒä¸¦ã¶1kmã®é¢¨å…‰æ˜åªšãªé“è·¯ã§ã™ã€‚é“ã¯ç¾ã—ã„äººé‡Œé›¢ã‚ŒãŸãƒ“ãƒ¼ãƒã«é€šã˜ã¦ã„ã¾ã™ã€‚",
                    tips: "ç¾ã—ã„å…‰ã¨å°‘ãªã„äººæ··ã¿ã‚’æ¥½ã—ã‚€ã«ã¯ã€æ—©æœã¾ãŸã¯å¤•æ–¹ã«è¨ªã‚Œã‚‹ã®ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'kouri-island': {
                en: {
                    name: "Kouri Island",
                    type: "Island",
                    description: "A small island connected by a beautiful 2km bridge, known for its heart-shaped rocks and crystal clear waters. Perfect for a romantic getaway.",
                    tips: "Visit the Kouri Ocean Tower for panoramic views of the surrounding islands."
                },
                ja: {
                    name: "å¤å®‡åˆ©å³¶",
                    type: "å³¶",
                    description: "ç¾ã—ã„2kmã®æ©‹ã§çµã°ã‚ŒãŸå°ã•ãªå³¶ã§ã€ãƒãƒ¼ãƒˆå½¢ã®å²©ã¨é€ãé€šã£ãŸæµ·ã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ãƒ­ãƒãƒ³ãƒãƒƒã‚¯ãªé€ƒé¿è¡Œã«æœ€é©ã§ã™ã€‚",
                    tips: "å¤å®‡åˆ©æµ·æ´‹ã‚¿ãƒ¯ãƒ¼ã«è¨ªã‚Œã€å‘¨è¾ºã®å³¶ã€…ã®ãƒ‘ãƒãƒ©ãƒãƒ“ãƒ¥ãƒ¼ã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'nakijin-castle': {
                en: {
                    name: "Nakijin Castle Ruins",
                    type: "Historic Site",
                    description: "UNESCO World Heritage Site with impressive castle ruins and panoramic views. Once the seat of the Hokuzan Kingdom in the 14th century.",
                    tips: "Visit during cherry blossom season (late January to early February) for a spectacular view."
                },
                ja: {
                    name: "ä»Šå¸°ä»åŸè·¡",
                    type: "å²è·¡",
                    description: "ãƒ¦ãƒã‚¹ã‚³ä¸–ç•Œéºç”£ã«ç™»éŒ²ã•ã‚ŒãŸå°è±¡çš„ãªåŸè·¡ã§ã€ãƒ‘ãƒãƒ©ãƒãƒ“ãƒ¥ãƒ¼ãŒæ¥½ã—ã‚ã¾ã™ã€‚14ä¸–ç´€ã«ã¯åŒ—å±±ç‹å›½ã®æ‹ ç‚¹ã§ã—ãŸã€‚",
                    tips: "æ¡œã®å­£ç¯€ï¼ˆ1æœˆä¸‹æ—¬ã‹ã‚‰2æœˆä¸Šæ—¬ï¼‰ã«è¨ªã‚Œã‚‹ã¨ã€å£®è¦³ãªæ™¯è‰²ã‚’è¦‹ã‚‰ã‚Œã¾ã™ã€‚"
                },
                image: "https://images.unsplash.com/photo-1586016413664-864c0dd76f53?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            
            // North-Central spots
            'manza-beach': {
                en: {
                    name: "Manza Beach",
                    type: "Resort Beach",
                    description: "Beautiful beach with white sand and clear waters, perfect for snorkeling and water sports. Part of the ANA InterContinental Manza Beach Resort.",
                    tips: "Great for families with children due to the gentle slope and clean facilities."
                },
                ja: {
                    name: "ä¸‡åº§ãƒ“ãƒ¼ãƒ",
                    type: "ãƒªã‚¾ãƒ¼ãƒˆãƒ“ãƒ¼ãƒ",
                    description: "ç™½ã„ç ‚ã¨é€æ˜ãªæµ·ãŒç¾ã—ã„ãƒ“ãƒ¼ãƒã§ã€ã‚·ãƒ¥ãƒãƒ¼ã‚±ãƒªãƒ³ã‚°ã‚„ãƒãƒªãƒ³ã‚¹ãƒãƒ¼ãƒ„ã«æœ€é©ã§ã™ã€‚ANAã‚¤ãƒ³ã‚¿ãƒ¼ã‚³ãƒ³ãƒãƒãƒ³ã‚¿ãƒ«ä¸‡åº§ãƒ“ãƒ¼ãƒãƒªã‚¾ãƒ¼ãƒˆã®ä¸€éƒ¨ã§ã™ã€‚",
                    tips: "ç·©ã‚„ã‹ãªå‚¾æ–œã¨æ¸…æ½”ãªæ–½è¨­ãŒã‚ã‚‹ãŸã‚ã€å­ä¾›é€£ã‚Œã®å®¶æ—ã«æœ€é©ã§ã™ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'busena-marine-park': {
                en: {
                    name: "Busena Marine Park",
                    type: "Marine Park",
                    description: "Unique underwater observatory and glass-bottom boat tours to see colorful coral reefs. Great for those who don't want to get wet but want to see marine life.",
                    tips: "Combine with the nearby beach for a full day of marine exploration."
                },
                ja: {
                    name: "ãƒ–ã‚»ãƒŠæµ·ä¸­å…¬åœ’",
                    type: "æµ·ä¸­å…¬åœ’",
                    description: "ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªæµ·ä¸­å±•æœ›å¡”ã¨ã‚°ãƒ©ã‚¹ãƒœãƒ¼ãƒˆãƒ„ã‚¢ãƒ¼ã§è‰²ã¨ã‚Šã©ã‚Šã®ã‚µãƒ³ã‚´ç¤ã‚’è¦‹å­¦ã§ãã¾ã™ã€‚æ¿¡ã‚ŒãŸããªã„ã‘ã©æµ·æ´‹ç”Ÿç‰©ã‚’è¦‹ãŸã„äººã«æœ€é©ã§ã™ã€‚",
                    tips: "è¿‘ãã®ãƒ“ãƒ¼ãƒã¨çµ„ã¿åˆã‚ã›ã¦ã€ä¸€æ—¥ä¸­æµ·ã®æ¢æ¤œã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'zampa-misaki': {
                en: {
                    name: "Zampa Misaki",
                    type: "Scenic Cape",
                    description: "Beautiful cape with dramatic cliffs and a famous heart-shaped rock formation. Popular spot for watching sunsets over the East China Sea.",
                    tips: "Windy conditions common - bring a jacket and secure your hat!"
                },
                ja: {
                    name: "æ®‹æ³¢å²¬",
                    type: "é¢¨å…‰æ˜åªšãªå²¬",
                    description: "ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯ãªæ–­å´–ã¨æœ‰åãªãƒãƒ¼ãƒˆå½¢ã®å²©ãŒã‚ã‚‹ç¾ã—ã„å²¬ã§ã™ã€‚æ±ã‚·ãƒŠæµ·ã«æ²ˆã‚€å¤•æ—¥ã‚’è¦‹ã‚‹ã®ã«äººæ°—ã®ã‚¹ãƒãƒƒãƒˆã§ã™ã€‚",
                    tips: "é¢¨ãŒå¼·ã„ã“ã¨ãŒå¤šã„ã®ã§ã€ã‚¸ãƒ£ã‚±ãƒƒãƒˆã‚’æŒå‚ã—ã€å¸½å­ãŒé£›ã°ãªã„ã‚ˆã†ã«æ³¨æ„ã—ã¾ã—ã‚‡ã†ï¼"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'oist-campus': {
                en: {
                    name: "OIST Campus",
                    type: "Research Institute",
                    description: "The Okinawa Institute of Science and Technology is a beautiful modern campus with striking architecture and ocean views. Offers guided tours of its facilities.",
                    tips: "Check the website in advance for tour schedules and reservation requirements."
                },
                ja: {
                    name: "OISTã‚­ãƒ£ãƒ³ãƒ‘ã‚¹",
                    type: "ç ”ç©¶æ©Ÿé–¢",
                    description: "æ²–ç¸„ç§‘å­¦æŠ€è¡“å¤§å­¦é™¢å¤§å­¦ã¯ã€å°è±¡çš„ãªå»ºç¯‰ã¨æµ·ã®æ™¯è‰²ãŒæ¥½ã—ã‚ã‚‹ç¾ã—ã„ç¾ä»£çš„ãªã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã§ã™ã€‚æ–½è¨­ã®ã‚¬ã‚¤ãƒ‰ãƒ„ã‚¢ãƒ¼ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚",
                    tips: "ãƒ„ã‚¢ãƒ¼ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨äºˆç´„è¦ä»¶ã«ã¤ã„ã¦ã¯äº‹å‰ã«ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            
            // Central spots
            'kaichu-road': {
                en: {
                    name: "Kaichu Road (Ocean Road)",
                    type: "Scenic Drive",
                    description: "A beautiful 4.7km causeway connecting the main island to Henza Island, with stunning ocean views on both sides. Several small islands along the way to explore.",
                    tips: "Stop at the rest areas to enjoy the view and try local snacks from vendors."
                },
                ja: {
                    name: "æµ·ä¸­é“è·¯",
                    type: "é¢¨æ™¯ãƒ‰ãƒ©ã‚¤ãƒ–",
                    description: "æœ¬å³¶ã¨å¹³å®‰åº§å³¶ã‚’çµã¶ç¾ã—ã„4.7kmã®å ¤é˜²é“è·¯ã§ã€ä¸¡å´ã«ç´ æ™´ã‚‰ã—ã„æµ·ã®æ™¯è‰²ãŒåºƒãŒã‚Šã¾ã™ã€‚é€”ä¸­ã«ã¯æ¢ç´¢ã§ãã‚‹å°ã•ãªå³¶ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚",
                    tips: "ä¼‘æ†©æ‰€ã«åœè»Šã—ã¦æ™¯è‰²ã‚’æ¥½ã—ã¿ã€åœ°å…ƒã®éœ²åº—ã§ã‚¹ãƒŠãƒƒã‚¯ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'koza': {
                en: {
                    name: "Koza (Okinawa City)",
                    type: "City Area",
                    description: "The heart of Okinawa's American-influenced culture with vibrant nightlife, live music venues, and unique shopping opportunities.",
                    tips: "Visit Gate 2 Street for the best selection of bars and live music venues."
                },
                ja: {
                    name: "ã‚³ã‚¶ï¼ˆæ²–ç¸„å¸‚ï¼‰",
                    type: "éƒ½å¸‚ã‚¨ãƒªã‚¢",
                    description: "ã‚¢ãƒ¡ãƒªã‚«æ–‡åŒ–ã®å½±éŸ¿ã‚’å—ã‘ãŸæ²–ç¸„ã®ä¸­å¿ƒåœ°ã§ã€æ´»æ°—ã‚ã‚‹ãƒŠã‚¤ãƒˆãƒ©ã‚¤ãƒ•ã€ãƒ©ã‚¤ãƒ–éŸ³æ¥½ä¼šå ´ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãŒæ¥½ã—ã‚ã¾ã™ã€‚",
                    tips: "ãƒãƒ¼ã‚„ãƒ©ã‚¤ãƒ–ä¼šå ´ã®æœ€é«˜ã®é¸æŠè‚¢ã‚’æ±‚ã‚ã¦ã‚²ãƒ¼ãƒˆ2ã‚¹ãƒˆãƒªãƒ¼ãƒˆã‚’è¨ªã‚Œã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'american-village': {
                en: {
                    name: "American Village",
                    type: "Shopping/Entertainment",
                    description: "A colorful American-themed shopping and entertainment complex with restaurants, shops, and a Ferris wheel. Great for souvenirs and evening entertainment.",
                    tips: "Visit in the evening when the lights create a romantic atmosphere."
                },
                ja: {
                    name: "ã‚¢ãƒ¡ãƒªã‚«ãƒ³ãƒ“ãƒ¬ãƒƒã‚¸",
                    type: "ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°/ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆ",
                    description: "ã‚¢ãƒ¡ãƒªã‚«ãƒ³ã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸã‚«ãƒ©ãƒ•ãƒ«ãªã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆè¤‡åˆæ–½è¨­ã§ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€ã‚·ãƒ§ãƒƒãƒ—ã€è¦³è¦§è»ŠãŒã‚ã‚Šã¾ã™ã€‚ãŠåœŸç”£ã‚„å¤œã®ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã«æœ€é©ã§ã™ã€‚",
                    tips: "ãƒ©ã‚¤ãƒˆã‚¢ãƒƒãƒ—ã•ã‚Œã¦ãƒ­ãƒãƒ³ãƒãƒƒã‚¯ãªé›°å›²æ°—ã«ãªã‚‹å¤œé–“ã«è¨ªã‚Œã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'ara-beach': {
                en: {
                    name: "Araha Beach",
                    type: "Beach",
                    description: "A beautiful white sand beach with calm waters, perfect for families. Known for its sunset views and water sports facilities.",
                    tips: "The beach can get crowded on weekends, so visit on weekdays for a more peaceful experience."
                },
                ja: {
                    name: "ã‚¢ãƒ©ãƒãƒ“ãƒ¼ãƒ",
                    type: "ãƒ“ãƒ¼ãƒ",
                    description: "ç©ã‚„ã‹ãªæµ·ã¨ç¾ã—ã„ç™½ç ‚ãŒç‰¹å¾´ã®ãƒ“ãƒ¼ãƒã§ã€å®¶æ—é€£ã‚Œã«æœ€é©ã§ã™ã€‚å¤•æ—¥ã¨ãƒãƒªãƒ³ã‚¹ãƒãƒ¼ãƒ„æ–½è¨­ã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
                    tips: "é€±æœ«ã¯æ··é›‘ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ã‚ˆã‚Šé™ã‹ãªä½“é¨“ã‚’ã—ãŸã„ãªã‚‰å¹³æ—¥ã«è¨ªã‚Œã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            
            // Naha spots
            'kokusai-street': {
                en: {
                    name: "Kokusai Street",
                    type: "Shopping Street",
                    description: "Naha's main shopping and entertainment street, lined with restaurants, shops, and markets. The heart of Okinawan urban life and culture.",
                    tips: "Visit the side streets and covered markets for more authentic local experiences."
                },
                ja: {
                    name: "å›½éš›é€šã‚Š",
                    type: "å•†åº—è¡—",
                    description: "é‚£è¦‡ã®ãƒ¡ã‚¤ãƒ³ã‚¹ãƒˆãƒªãƒ¼ãƒˆã§ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€ã‚·ãƒ§ãƒƒãƒ—ã€å¸‚å ´ãŒä¸¦ã¶ç¹è¯è¡—ã§ã™ã€‚æ²–ç¸„ã®éƒ½å¸‚ç”Ÿæ´»ã¨æ–‡åŒ–ã®ä¸­å¿ƒåœ°ã§ã™ã€‚",
                    tips: "ã‚ˆã‚Šæœ¬æ ¼çš„ãªåœ°å…ƒã®ä½“é¨“ã‚’ã™ã‚‹ã«ã¯ã€è·¯åœ°ã‚„ã‚¢ãƒ¼ã‚±ãƒ¼ãƒ‰å¸‚å ´ã‚’è¨ªã‚Œã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'shuri-castle': {
                en: {
                    name: "Shuri Castle",
                    type: "Historic Castle",
                    description: "Former royal palace of the Ryukyu Kingdom, a UNESCO World Heritage Site. Though damaged by fire in 2019, reconstruction is underway and the grounds are still worth visiting.",
                    tips: "Check ahead for reconstruction progress and which areas are open to visitors."
                },
                ja: {
                    name: "é¦–é‡ŒåŸ",
                    type: "æ­´å²çš„ãªåŸ",
                    description: "ç‰çƒç‹å›½ã®ç‹å®®ã§ã€ãƒ¦ãƒã‚¹ã‚³ä¸–ç•Œéºç”£ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚2019å¹´ã®ç«ç½ã§è¢«å®³ã‚’å—ã‘ã¾ã—ãŸãŒã€å¾©å…ƒå·¥äº‹ãŒé€²è¡Œä¸­ã§ã€æ•·åœ°ã¯ã¾ã è¨ªã‚Œã‚‹ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚",
                    tips: "å¾©å…ƒã®é€²æ—çŠ¶æ³ã¨ã©ã®ã‚¨ãƒªã‚¢ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‹ã€äº‹å‰ã«ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'kerama-islands': {
                en: {
                    name: "Kerama Islands",
                    type: "Island Group",
                    description: "Group of small islands known for their crystal clear waters and excellent snorkeling/diving spots. The waters are so clear they're called 'Kerama Blue'.",
                    tips: "Day trips are available from Naha, but consider staying overnight for a more relaxed experience."
                },
                ja: {
                    name: "æ…¶è‰¯é–“è«¸å³¶",
                    type: "å³¶ã€…",
                    description: "é€ãé€šã£ãŸæµ·ã¨ç´ æ™´ã‚‰ã—ã„ã‚·ãƒ¥ãƒãƒ¼ã‚±ãƒªãƒ³ã‚°ãƒ»ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚¹ãƒãƒƒãƒˆã§çŸ¥ã‚‰ã‚Œã‚‹å°å³¶ç¾¤ã§ã™ã€‚æµ·ã®é€æ˜åº¦ãŒéå¸¸ã«é«˜ãã€ã€Œã‚±ãƒ©ãƒãƒ–ãƒ«ãƒ¼ã€ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚",
                    tips: "é‚£è¦‡ã‹ã‚‰æ—¥å¸°ã‚Šæ—…è¡ŒãŒå¯èƒ½ã§ã™ãŒã€ã‚ˆã‚Šãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸä½“é¨“ã®ãŸã‚ã«ä¸€æ³Šã™ã‚‹ã“ã¨ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'tomari-ichiba': {
                en: {
                    name: "Tomari Fish Market",
                    type: "Seafood Market",
                    description: "Lively fish market where you can buy fresh seafood and have it prepared on the spot. Try Okinawan specialties like mozuku seaweed and umibudo (sea grapes).",
                    tips: "Go early for the best selection - many stalls close by early afternoon."
                },
                ja: {
                    name: "æ³Šã„ã‚†ã¾ã¡",
                    type: "é­šå¸‚å ´",
                    description: "æ´»æ°—ã‚ã‚‹é­šå¸‚å ´ã§ã€æ–°é®®ãªæµ·ç”£ç‰©ã‚’è³¼å…¥ã—ã€ãã®å ´ã§èª¿ç†ã—ã¦ã‚‚ã‚‰ãˆã¾ã™ã€‚ã‚‚ãšãã‚„ã‚¦ãƒŸãƒ–ãƒ‰ã‚¦ï¼ˆæµ·ã¶ã©ã†ï¼‰ãªã©ã®æ²–ç¸„ã®ç‰¹ç”£å“ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚",
                    tips: "æœ€é«˜ã®å“æƒãˆã®ãŸã‚ã«æ—©ã‚ã«è¡Œãã¾ã—ã‚‡ã† - å¤šãã®éœ²åº—ã¯åˆå¾Œæ—©ãã«ã¯é–‰ã¾ã‚Šã¾ã™ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            
            // Southern spots
            'peace-memorial-park': {
                en: {
                    name: "Peace Memorial Park",
                    type: "Memorial Park",
                    description: "Dedicated to the lives lost in the Battle of Okinawa, with moving monuments, museums, and the Cornerstone of Peace listing all known casualties.",
                    tips: "The museum provides important historical context but may be intense for young children."
                },
                ja: {
                    name: "å¹³å’Œç¥ˆå¿µå…¬åœ’",
                    type: "è¨˜å¿µå…¬åœ’",
                    description: "æ²–ç¸„æˆ¦ã§äº¡ããªã£ãŸäººã€…ã«æ§ã’ã‚‰ã‚ŒãŸå…¬åœ’ã§ã€æ„Ÿå‹•çš„ãªè¨˜å¿µç¢‘ã€åšç‰©é¤¨ã€ãã—ã¦ã™ã¹ã¦ã®çŠ ç‰²è€…ã®åå‰ãŒåˆ»ã¾ã‚ŒãŸã€Œå¹³å’Œã®ç¤ã€ãŒã‚ã‚Šã¾ã™ã€‚",
                    tips: "åšç‰©é¤¨ã¯é‡è¦ãªæ­´å²çš„æ–‡è„ˆã‚’æä¾›ã—ã¾ã™ãŒã€å°ã•ãªå­ä¾›ã«ã¯å¼·ã„å†…å®¹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'chinen-misaki': {
                en: {
                    name: "Chinen Misaki",
                    type: "Scenic Cape",
                    description: "Beautiful cape with stunning ocean views and important historical significance as a sacred site in Ryukyuan religion. The cliffs offer dramatic views of the Pacific.",
                    tips: "Combine with a visit to the nearby Okinawa Peace Prayer Memorial."
                },
                ja: {
                    name: "çŸ¥å¿µå²¬",
                    type: "é¢¨å…‰æ˜åªšãªå²¬",
                    description: "ç´ æ™´ã‚‰ã—ã„æµ·ã®æ™¯è‰²ã¨ã€ç‰çƒã®å®—æ•™ã«ãŠã‘ã‚‹è–åœ°ã¨ã—ã¦ã®é‡è¦ãªæ­´å²çš„æ„ç¾©ã‚’æŒã¤ç¾ã—ã„å²¬ã§ã™ã€‚æ–­å´–ã‹ã‚‰ã¯å¤ªå¹³æ´‹ã®ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯ãªæ™¯è‰²ãŒæ¥½ã—ã‚ã¾ã™ã€‚",
                    tips: "è¿‘ãã®æ²–ç¸„å¹³å’Œç¥ˆå¿µå ‚ã¨çµ„ã¿åˆã‚ã›ã¦è¨ªã‚Œã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'okinawa-world': {
                en: {
                    name: "Okinawa World",
                    type: "Cultural Park",
                    description: "Cultural theme park featuring traditional Ryukyuan houses, crafts, and the spectacular Gyokusendo Cave - one of Japan's largest limestone caves.",
                    tips: "Watch the traditional Eisa dance performance included with admission."
                },
                ja: {
                    name: "ãŠããªã‚ãƒ¯ãƒ¼ãƒ«ãƒ‰",
                    type: "æ–‡åŒ–å…¬åœ’",
                    description: "ä¼çµ±çš„ãªç‰çƒå®¶å±‹ã‚„å·¥èŠ¸å“ã€å£®è¦³ãªç‰æ³‰æ´ï¼ˆæ—¥æœ¬æœ€å¤§ç´šã®é¾ä¹³æ´ã®ä¸€ã¤ï¼‰ãŒã‚ã‚‹æ–‡åŒ–ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ã§ã™ã€‚",
                    tips: "å…¥å ´æ–™ã«å«ã¾ã‚Œã‚‹ä¼çµ±çš„ãªã‚¨ã‚¤ã‚µãƒ¼èˆè¸Šã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¦‹ã¾ã—ã‚‡ã†ã€‚"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            },
            'mibaru-beach': {
                en: {
                    name: "Mibaru Beach",
                    type: "Unique Beach",
                    description: "Beautiful beach with unique 'star sand' made from tiny star-shaped fossils of marine organisms. The sand is said to bring good luck.",
                    tips: "Look closely at the sand - the star shapes are actually fossils of tiny organisms!"
                },
                ja: {
                    name: "æ–°åŸãƒ“ãƒ¼ãƒ",
                    type: "ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªãƒ“ãƒ¼ãƒ",
                    description: "æ˜Ÿã®ç ‚ã¨å‘¼ã°ã‚Œã‚‹æ˜Ÿå½¢ã®å¾®å°ãªæµ·æ´‹ç”Ÿç‰©ã®åŒ–çŸ³ãŒã‚ã‚‹ç¾ã—ã„ãƒ“ãƒ¼ãƒã§ã™ã€‚ã“ã®ç ‚ã¯å¹¸é‹ã‚’ã‚‚ãŸã‚‰ã™ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚",
                    tips: "ç ‚ã‚’ã‚ˆãè¦‹ã¦ã¿ã¾ã—ã‚‡ã† - æ˜Ÿã®å½¢ã¯å®Ÿéš›ã«ã¯å¾®å°ãªç”Ÿç‰©ã®åŒ–çŸ³ã§ã™ï¼"
                },
                image: "https://images.unsplash.com/photo-1593692909680-2e5b00a0a899?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
            }
        };

        let currentLanguage = 'en';
        let currentView = 'area'; // 'area', 'spots', or 'detail'
        let currentArea = null;
        let currentSpot = null;
        let deferredPrompt;

        function showAreaInfo(areaId) {
            currentView = 'area';
            currentArea = areaId;
            currentSpot = null;
            
            const info = areaInfo[areaId][currentLanguage];
            
            let infoHTML = `
                <div class="language-content english ${currentLanguage === 'en' ? 'active' : ''}">
                    <h3>${info.title}</h3>
                    <p>${info.description}</p>
                    ${areaInfo[areaId].image ? `<img src="${areaInfo[areaId].image}" class="spot-image" alt="${info.title}">` : ''}
                    <button class="spot-button" onclick="showSpots('${areaId}')">
                        <i class="fas fa-map-marked-alt"></i>
                        Explore Tourist Spots
                    </button>
                </div>
                <div class="language-content japanese ${currentLanguage === 'ja' ? 'active' : ''}">
                    <h3>${areaInfo[areaId].ja.title}</h3>
                    <p>${areaInfo[areaId].ja.description}</p>
                    ${areaInfo[areaId].image ? `<img src="${areaInfo[areaId].image}" class="spot-image" alt="${areaInfo[areaId].ja.title}">` : ''}
                    <button class="spot-button" onclick="showSpots('${areaId}')">
                        <i class="fas fa-map-marked-alt"></i>
                        è¦³å…‰ã‚¹ãƒãƒƒãƒˆã‚’è¦‹ã‚‹
                    </button>
                </div>
            `;
            
            document.getElementById('info-box').innerHTML = infoHTML;
            updateLanguageDisplay();
        }
        
        function showSpots(areaId) {
            currentView = 'spots';
            currentArea = areaId;
            
            const spots = areaInfo[areaId].spots;
            const areaName = areaInfo[areaId][currentLanguage].title;
            const areaNameJa = areaInfo[areaId]['ja'].title;
            
            let spotsHTML = `
                <div class="language-content english ${currentLanguage === 'en' ? 'active' : ''}">
                    <h3>Tourist Spots in ${areaName}</h3>
                    <div class="spot-grid">
            `;
            
            spots.forEach(spotId => {
                const spot = spotInfo[spotId][currentLanguage];
                spotsHTML += `
                    <div class="spot-item" onclick="showSpotDetail('${areaId}', '${spotId}')">
                        <h4>${spot.name}</h4>
                        <p><em>${spot.type}</em></p>
                    </div>
                `;
            });
            
            spotsHTML += `
                    </div>
                    <button class="back-button" onclick="showAreaInfo('${areaId}')">
                        <i class="fas fa-arrow-left"></i>
                        Back to Area
                    </button>
                </div>
                <div class="language-content japanese ${currentLanguage === 'ja' ? 'active' : ''}">
                    <h3>${areaNameJa}ã®è¦³å…‰ã‚¹ãƒãƒƒãƒˆ</h3>
                    <div class="spot-grid">
            `;
            
            spots.forEach(spotId => {
                const spot = spotInfo[spotId]['ja'];
                spotsHTML += `
                    <div class="spot-item" onclick="showSpotDetail('${areaId}', '${spotId}')">
                        <h4>${spot.name}</h4>
                        <p><em>${spot.type}</em></p>
                    </div>
                `;
            });
            
            spotsHTML += `
                    </div>
                    <button class="back-button" onclick="showAreaInfo('${areaId}')">
                        <i class="fas fa-arrow-left"></i>
                        ã‚¨ãƒªã‚¢ã«æˆ»ã‚‹
                    </button>
                </div>
            `;
            
            document.getElementById('info-box').innerHTML = spotsHTML;
            updateLanguageDisplay();
        }
        
        function showSpotDetail(areaId, spotId) {
            currentView = 'detail';
            currentArea = areaId;
            currentSpot = spotId;
            
            const spot = spotInfo[spotId][currentLanguage];
            const spotJa = spotInfo[spotId]['ja'];
            
            let detailHTML = `
                <div class="language-content english ${currentLanguage === 'en' ? 'active' : ''}">
                    <div class="spot-detail">
                        <h3>${spot.name}</h3>
                        <span class="type">${spot.type}</span>
                        <p>${spot.description}</p>
                        
                        ${spot.tips ? `
                        <div class="spot-tips">
                            <strong><i class="fas fa-lightbulb"></i> Tips:</strong>
                            <p>${spot.tips}</p>
                        </div>
                        ` : ''}
                        
                        ${spotInfo[spotId].image ? `<img src="${spotInfo[spotId].image}" class="spot-image" alt="${spot.name}">` : ''}
                    </div>
                    
                    <button class="back-button" onclick="showSpots('${areaId}')">
                        <i class="fas fa-arrow-left"></i>
                        Back to Spots
                    </button>
                </div>
                <div class="language-content japanese ${currentLanguage === 'ja' ? 'active' : ''}">
                    <div class="spot-detail">
                        <h3>${spotJa.name}</h3>
                        <span class="type">${spotJa.type}</span>
                        <p>${spotJa.description}</p>
                        
                        ${spotJa.tips ? `
                        <div class="spot-tips">
                            <strong><i class="fas fa-lightbulb"></i> ãƒ’ãƒ³ãƒˆ:</strong>
                            <p>${spotJa.tips}</p>
                        </div>
                        ` : ''}
                        
                        ${spotInfo[spotId].image ? `<img src="${spotInfo[spotId].image}" class="spot-image" alt="${spotJa.name}">` : ''}
                    </div>
                    
                    <button class="back-button" onclick="showSpots('${areaId}')">
                        <i class="fas fa-arrow-left"></i>
                        ã‚¹ãƒãƒƒãƒˆä¸€è¦§ã«æˆ»ã‚‹
                    </button>
                </div>
            `;
            
            document.getElementById('info-box').innerHTML = detailHTML;
            updateLanguageDisplay();
        }
        
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            // Save preference to localStorage
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }
        
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'ja' : 'en';
            // Save preference to localStorage
            localStorage.setItem('language', currentLanguage);
            
            // Refresh current view
            if (currentView === 'area' && currentArea) {
                showAreaInfo(currentArea);
            } else if (currentView === 'spots' && currentArea) {
                showSpots(currentArea);
            } else if (currentView === 'detail' && currentArea && currentSpot) {
                showSpotDetail(currentArea, currentSpot);
            }
            
            updateLanguageDisplay();
        }
        
        function updateLanguageDisplay() {
            const englishElements = document.querySelectorAll('.language-content.english');
            const japaneseElements = document.querySelectorAll('.language-content.japanese');
            
            if (currentLanguage === 'en') {
                englishElements.forEach(el => el.classList.add('active'));
                japaneseElements.forEach(el => el.classList.remove('active'));
            } else {
                englishElements.forEach(el => el.classList.remove('active'));
                japaneseElements.forEach(el => el.classList.add('active'));
            }
        }
        
        // Initialize
        function init() {
            // Load dark mode preference
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
            }
            
            // Load language preference
            if (localStorage.getItem('language')) {
                currentLanguage = localStorage.getItem('language');
            }
            
            updateLanguageDisplay();
        }
        
        // Initialize on page load
        init();

        // PWA Installation
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the mini-infobar from appearing on mobile
            e.preventDefault();
            // Stash the event so it can be triggered later.
            deferredPrompt = e;
            // Show the install button
            document.getElementById('installButton').style.display = 'flex';
        });

        document.getElementById('installButton').addEventListener('click', async () => {
            if (deferredPrompt) {
                // Show the install prompt
                deferredPrompt.prompt();
                // Wait for the user to respond to the prompt
                const { outcome } = await deferredPrompt.userChoice;
                // We've used the prompt, and can't use it again, throw it away
                deferredPrompt = null;
                // Hide the install button
                document.getElementById('installButton').style.display = 'none';
            }
        });

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').then(registration => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }

        // Check if app is launched as PWA
        if (window.matchMedia('(display-mode: standalone)').matches) {
            document.getElementById('installButton').style.display = 'none';
        }
    </script>

    <script>
        // Inline Service Worker for PWA
        if ('serviceWorker' in navigator) {
            const swCode = `
                const CACHE_NAME = 'okinawa-travel-guide-v2';
                const urlsToCache = [
                    '/',
                    '/index.html',
                    '/styles.css',
                    '/script.js'
                ];

                self.addEventListener('install', event => {
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then(cache => {
                                return cache.addAll(urlsToCache);
                            })
                    );
                });

                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request)
                            .then(response => {
                                if (response) {
                                    return response;
                                }
                                return fetch(event.request);
                            })
                    );
                });

                self.addEventListener('activate', event => {
                    const cacheWhitelist = [CACHE_NAME];
                    event.waitUntil(
                        caches.keys().then(cacheNames => {
                            return Promise.all(
                                cacheNames.map(cacheName => {
                                    if (cacheWhitelist.indexOf(cacheName) === -1) {
                                        return caches.delete(cacheName);
                                    }
                                })
                            );
                        })
                    );
                });
            `;

            // Create a Blob with the service worker code
            const blob = new Blob([swCode], { type: 'application/javascript' });
            const swUrl = URL.createObjectURL(blob);

            // Register the service worker
            window.addEventListener('load', function() {
                navigator.serviceWorker.register(swUrl).then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>
</html>